{% extends 'base.html' %}

{% block title %}{{ recipe['title'] }} - Recipe{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="card shadow-sm p-4">
    <h2 class="card-title">{{ recipe['title'] }}</h2>
    <p class="text-muted mb-1">
      Posted by 
      <a href="{{ url_for('profile.view', username=recipe['username']) }}">
        {{ recipe['username'] }}
      </a> 
      on {{ recipe['created'] }}
    </p>
    <hr>

    <h5>Instructions</h5>
    <p>{{ recipe['body']}}</p>

    {% if g.user and g.user['id'] == recipe['author_id'] %}
    <div class="mt-3">
      <a href="{{ url_for('recipe.edit', id=recipe['id']) }}" class="btn btn-outline-primary btn-sm">Edit</a>
      <form action="{{ url_for('recipe.delete', id=recipe['id']) }}" method="post" class="d-inline">
        <button type="submit" class="btn btn-outline-danger btn-sm"
          onclick="return confirm('Are you sure you want to delete this recipe?');">
          Delete
        </button>
      </form>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
